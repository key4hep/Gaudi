package GaudiMP
version v1r1

branches      GaudiMP cmt doc src dict python scripts

use GaudiKernel        *
use GaudiPython        * -no_auto_imports

use Python             *  LCG_Interfaces -no_auto_imports
use Reflex             *  LCG_Interfaces -no_auto_imports
use ROOT               *  LCG_Interfaces -no_auto_imports

apply_pattern install_more_includes more=GaudiMP
apply_pattern install_python_modules
apply_pattern install_scripts


#-------Applications and Libraries-----------------------------------------------
library GaudiMP   Lib/*.cpp      -import=Python -import=Reflex -import=ROOT -no_static
apply_pattern  linker_library    library=GaudiMP

#-------LCG Dictionaries---------------------------------------------------------
apply_pattern reflex_dictionary dictionary=GaudiMP \
                                headerfiles=$(GAUDIMPROOT)/dict/gaudimp_dict.h \
                                selectionfile=../dict/selection.xml \
                                options="--no_templatetypedefs -I$(Python_inc)" \
                                imports="Python -import=Reflex -import=ROOT"

#--------------------------------------------------------------------------------
private
#apply_pattern  component_library library=GaudiMP

#--------------------------------------------------------------------------------

# The rootmap name we have to use depends on the version of ROOT: ROOT 5.14 (LCG <= 53*) and ROOT 5.15 (LCG >= 54)
macro rootmap_name "rootmap" ROOT_GE_5_15 "reflex.rootmap"

# macro test_GPyTest_rootmap   $(GAUDIPYTHONROOT)/$(tag)/$(rootmap_name) \
#       GAUDI_with_installarea $(CMTINSTALLAREA)/$(tag)/lib/$(rootmap_name) \
#       GAUDIATLAS_with_installarea $(CMTINSTALLAREA)/$(tag)/lib/$(rootmap_name)

end_private
