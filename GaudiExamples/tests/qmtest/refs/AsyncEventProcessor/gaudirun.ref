# setting LC_ALL to "C"
# --> Including file '/home/marco/Devel/workspace/Gaudi/GaudiExamples/tests/options/AsyncEventProcessorExample.opts'
# ApplicationMgr.EventLoop = "Gaudi::Examples::AsyncEventLoopMgr/AsyncEventLoopMgr";
# ApplicationMgr.OutputLevel = 3;
# ApplicationMgr.TopAlg = ['GaudiTesting::SleepyAlg/Alg1'];
# Alg1.SleepTime = 1;
# AsyncEventLoopMgr.OutputLevel = 2;
# <-- End of file '/home/marco/Devel/workspace/Gaudi/GaudiExamples/tests/options/AsyncEventProcessorExample.opts'
ApplicationMgr    SUCCESS
====================================================================================================================================
                                                   Welcome to ApplicationMgr (GaudiCoreSvc v31r0)
                                          running on marco-XPS-13 on Thu Apr 18 23:22:50 2019
====================================================================================================================================
ApplicationMgr       INFO Application Manager Configured successfully
AsyncEventLoopMgr   DEBUG Property update for OutputLevel : new value = 2
AsyncEventLoopMgr   DEBUG Service base class initialized successfully
AsyncEventLoopMgr   DEBUG Creating Top Algorithm GaudiTesting::SleepyAlg with name Alg1
ApplicationMgr       INFO Application Manager Initialized successfully
ApplicationMgr       INFO Application Manager Started successfully
<main>               INFO parameters:
<main>               INFO   n_of_batches :2
<main>               INFO   evts_in_batch: 5
<main>               INFO   evts_in_flight: 3
<main>               INFO main loop:
<main>               INFO   prepared batches: 0/2
<main>               INFO   events in queue: 0
<main>               INFO   events in flight: 0/3
<main>               INFO prepare another batch of events
<main>               INFO scheduling 3 events
AsyncEventLoopMgr   DEBUG scheduling s: 0  e: 0
AsyncEventLoopMgr   DEBUG scheduling s: 0  e: 1
AsyncEventLoopMgr   DEBUG scheduling s: 0  e: 2
AsyncEventLoopMgr   DEBUG processing s: 0  e: 0
Alg1                 INFO Executing event 1
Alg1                 INFO Sleeping for 1 seconds
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
<main>               INFO main loop:
<main>               INFO   prepared batches: 1/2
<main>               INFO   events in queue: 2
<main>               INFO   events in flight: 3/3
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
Alg1                 INFO Back from sleep
AsyncEventLoopMgr   DEBUG processing s: 0  e: 1
Alg1                 INFO Executing event 2
Alg1                 INFO Sleeping for 1 seconds
<main>               INFO main loop:
<main>               INFO   prepared batches: 1/2
<main>               INFO   events in queue: 2
<main>               INFO   events in flight: 3/3
<main>               INFO checking for completed events
<main>               INFO   s: 0  e: 0 -> SUCCESS
<main>               INFO main loop:
<main>               INFO   prepared batches: 1/2
<main>               INFO   events in queue: 2
<main>               INFO   events in flight: 2/3
<main>               INFO scheduling 1 events
AsyncEventLoopMgr   DEBUG scheduling s: 0  e: 3
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
<main>               INFO main loop:
<main>               INFO   prepared batches: 1/2
<main>               INFO   events in queue: 1
<main>               INFO   events in flight: 3/3
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
Alg1                 INFO Back from sleep
AsyncEventLoopMgr   DEBUG processing s: 0  e: 2
Alg1                 INFO Executing event 3
Alg1                 INFO Sleeping for 1 seconds
<main>               INFO main loop:
<main>               INFO   prepared batches: 1/2
<main>               INFO   events in queue: 1
<main>               INFO   events in flight: 3/3
<main>               INFO checking for completed events
<main>               INFO   s: 0  e: 1 -> SUCCESS
<main>               INFO main loop:
<main>               INFO   prepared batches: 1/2
<main>               INFO   events in queue: 1
<main>               INFO   events in flight: 2/3
<main>               INFO scheduling 1 events
AsyncEventLoopMgr   DEBUG scheduling s: 0  e: 4
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
<main>               INFO main loop:
<main>               INFO   prepared batches: 1/2
<main>               INFO   events in queue: 0
<main>               INFO   events in flight: 3/3
<main>               INFO prepare another batch of events
<main>               INFO   (pretend we need time so that the processing thread drains the queue)
Alg1                 INFO Back from sleep
AsyncEventLoopMgr   DEBUG processing s: 0  e: 3
Alg1                 INFO Executing event 4
Alg1                 INFO Sleeping for 1 seconds
Alg1                 INFO Back from sleep
AsyncEventLoopMgr   DEBUG processing s: 0  e: 4
Alg1                 INFO Executing event 5
Alg1                 INFO Sleeping for 1 seconds
Alg1                 INFO Back from sleep
<main>               INFO   (all events in queue should have been processed by now)
<main>               INFO checking for completed events
<main>               INFO   s: 0  e: 2 -> SUCCESS
<main>               INFO   s: 0  e: 3 -> SUCCESS
<main>               INFO   s: 0  e: 4 -> SUCCESS
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 5
<main>               INFO   events in flight: 0/3
<main>               INFO scheduling 3 events
AsyncEventLoopMgr   DEBUG scheduling s: 0  e: 5
AsyncEventLoopMgr   DEBUG scheduling s: 0  e: 6
AsyncEventLoopMgr   DEBUG scheduling s: 0  e: 7
AsyncEventLoopMgr   DEBUG processing s: 0  e: 5
Alg1                 INFO Executing event 6
Alg1                 INFO Sleeping for 1 seconds
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 2
<main>               INFO   events in flight: 3/3
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
Alg1                 INFO Back from sleep
AsyncEventLoopMgr   DEBUG processing s: 0  e: 6
Alg1                 INFO Executing event 7
Alg1                 INFO Sleeping for 1 seconds
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 2
<main>               INFO   events in flight: 3/3
<main>               INFO checking for completed events
<main>               INFO   s: 0  e: 5 -> SUCCESS
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 2
<main>               INFO   events in flight: 2/3
<main>               INFO scheduling 1 events
AsyncEventLoopMgr   DEBUG scheduling s: 0  e: 8
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 1
<main>               INFO   events in flight: 3/3
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
Alg1                 INFO Back from sleep
AsyncEventLoopMgr   DEBUG processing s: 0  e: 7
Alg1                 INFO Executing event 8
Alg1                 INFO Sleeping for 1 seconds
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 1
<main>               INFO   events in flight: 3/3
<main>               INFO checking for completed events
<main>               INFO   s: 0  e: 6 -> SUCCESS
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 1
<main>               INFO   events in flight: 2/3
<main>               INFO scheduling 1 events
AsyncEventLoopMgr   DEBUG scheduling s: 0  e: 9
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 0
<main>               INFO   events in flight: 3/3
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
Alg1                 INFO Back from sleep
AsyncEventLoopMgr   DEBUG processing s: 0  e: 8
Alg1                 INFO Executing event 9
Alg1                 INFO Sleeping for 1 seconds
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 0
<main>               INFO   events in flight: 3/3
<main>               INFO checking for completed events
<main>               INFO   s: 0  e: 7 -> SUCCESS
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 0
<main>               INFO   events in flight: 2/3
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 0
<main>               INFO   events in flight: 2/3
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
Alg1                 INFO Back from sleep
AsyncEventLoopMgr   DEBUG processing s: 0  e: 9
Alg1                 INFO Executing event 10
Alg1                 INFO Sleeping for 1 seconds
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 0
<main>               INFO   events in flight: 2/3
<main>               INFO checking for completed events
<main>               INFO   s: 0  e: 8 -> SUCCESS
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 0
<main>               INFO   events in flight: 1/3
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 0
<main>               INFO   events in flight: 1/3
<main>               INFO checking for completed events
<main>               INFO   none, waiting before next iteration
Alg1                 INFO Back from sleep
<main>               INFO main loop:
<main>               INFO   prepared batches: 2/2
<main>               INFO   events in queue: 0
<main>               INFO   events in flight: 1/3
<main>               INFO checking for completed events
<main>               INFO   s: 0  e: 9 -> SUCCESS
<main>               INFO all done
AsyncEventLoopMgr   DEBUG scheduling STOP of event loop
AsyncEventLoopMgr   DEBUG exiting event loop thread
ApplicationMgr       INFO Application Manager Stopped successfully
ApplicationMgr       INFO Application Manager Finalized successfully
ApplicationMgr       INFO Application Manager Terminated successfully
