<?xml version="1.0" ?><!DOCTYPE extension  PUBLIC '-//QM/2.3/Extension//EN'  'http://www.codesourcery.com/qm/dtds/2.3/-//qm/2.3/extension//en.dtd'>
<extension class="GaudiTest.GaudiExeTest" kind="test">
<argument name="args"><set><text>$GAUDIEXAMPLESROOT/options/THistWrite.opts</text></set></argument>
  <argument name="use_temp_dir"><enumeral>true</enumeral></argument>
  <argument name="reference"><text>refs/THistWrite.ref</text></argument>
  <argument name="validator"><text>
preprocessor = normalizeExamples + \
    SortGroupOfLines(r"(.+id: )(\/.*\/.*)( t: )([0,1])( s: )([0,1])( M: )([0-9]+)(.*o: 0x######## )(.*)") + \
    SortGroupOfLines(r"^- ([\w\/]+)+  \[[\w\#]{10}\]") + \
    RegexpReplacer(when = "^THistSvc",
        orig = r"(.+M: )([0-9]+)(.*)",
        repl = r"\1########\3") + \
    RegexpReplacer(when = "^ - id: ",
        orig = r"(.+M: )([0-9]+)(.*)",
        repl = r"\1########\3") + \
    RegexpReplacer(when = "^ - 0x########.*id: ",
        orig = r"(.+id: )(\/.*\/.*)( t: )([0,1])( s: )([0,1])( M: )([0-9]+)(.*o: 0x######## )(.*)",
        repl = r"\1\2\3\4\5\6\7########\9\10")

validateWithReference(preproc = preprocessor)
</text></argument>
</extension>
